<app-cms-html-tree [optionLoading]="loading" [optionHeaderDisplay]="true" [optionActionMainDisplay]="true"
  [optionFooterDisplay]="false">
  <ng-container cms-tree-header>
    {{'TABLE.'+dataModelResult?.access?.moduleEntityName| translate}}
  </ng-container>
  <ng-container cms-tree-action>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-header-->
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-header-->

    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-->
    <button type="button" *ngIf="dataModelResult?.access?.accessAddRow" (click)="onActionAdd()"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal">{{'ACTION.ADD' |
      translate}}</button>
    <button type="button"
      *ngIf="dataModelResult?.access?.accessEditRow  && dataModelSelect.id && dataModelSelect?.id?.length>0"
      (click)="onActionEdit()"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta">{{'ACTION.EDIT' |
      translate}}</button>
    <button type="button"
      *ngIf="dataModelResult?.access?.accessDeleteRow && dataModelSelect.id  && dataModelSelect?.id?.length>0"
      (click)="onActionDelete()"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red">{{'ACTION.DELETE' |
      translate}}</button>


    <a type="button" class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
      (click)="onActionButtonReload()" target="_blank">
      <i class="fa-solid fa-rotate-right font-18" style="color: #ffffff;"></i>

    </a>
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-->
  </ng-container>
  <ng-container cms-tree-body>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
    <mat-tree class="category-tree cursor-pointer" [dataSource]="dataSource" [treeControl]="treeControl">
      <mat-tree-node *matTreeNodeDef="let node; let i = dataIndex;" [class.ntk-tree-odd]="i % 2"
        [class.ntk-tree-even]="!(i % 2)" matTreeNodePadding (click)="onActionSelect(node)"
        [class.ntk-tree-selected]="dataModelSelect.id?.length>0 && dataModelSelect?.id === node.id">
        <button type="button" mat-icon-button disabled></button>
        <i [ngClass]="node.iconFont" [style.color]="node.iconColor" aria-hidden="true"></i>
        &nbsp;&nbsp;&nbsp;&nbsp;
        {{node.title}}
      </mat-tree-node>
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <li>
          <div class="mat-tree-node" (click)="onActionSelect(node)"
            [class.ntk-tree-selected]="dataModelSelect?.id?.length>0 && dataModelSelect?.id === node.id">
            <button type="button" mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.title"
              (click)="onActionSelect(node)">
              <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
            <i [ngClass]="node.iconFont" [style.color]="node.iconColor" aria-hidden="true"></i>
            &nbsp;&nbsp;&nbsp;&nbsp;
            {{node.title}}
          </div>
          <ul [class.category-tree-invisible]="!treeControl.isExpanded(node)">
            <ng-container matTreeNodeOutlet></ng-container>
          </ul>
        </li>
      </mat-nested-tree-node>
    </mat-tree>
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
  </ng-container>
  <ng-container cms-tree-footer>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-tree-footer-->
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-tree-footer-->
  </ng-container>
</app-cms-html-tree>